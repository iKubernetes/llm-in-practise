# cluster.yaml
cluster_name: ray-two-nodes
min_workers: 1
max_workers: 1

provider:
    type: local
    head_ip: 172.25.0.100
    worker_ips:
        - 172.25.0.200

auth:
    ssh_user: marion

# Docker optional (可以不使用)
docker:
    image: "python:3.11-slim"
    pull_before_run: false

head_node:
    # Head 节点启动命令
    ray_start_params:
        head: true
        node_ip_address: 172.25.0.100
        port: 6379
        dashboard_host: 0.0.0.0
        dashboard_port: 8265
        min_worker_port: 12000
        max_worker_port: 13000
        disable_usage_stats: true
    # 可选的额外依赖
    setup_commands:
        - pip install ray==2.50.1

worker_nodes:
    ray_start_params:
        address: 172.25.0.100:6379
        node_ip_address: 172.25.0.200
        min_worker_port: 12000
        max_worker_port: 13000
        disable_usage_stats: true
    setup_commands:
        - pip install ray==2.50.1

# 文件同步（可选）
file_mounts: {}

# 环境变量（可选）
head_node_env: {}
worker_nodes_env: {}
